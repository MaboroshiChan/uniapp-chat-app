<view class="container"><view class="row" style="background:linear-gradient(to right,#b1f3f9,#96ec78);padding:60rpx 20rpx 10rpx;color:#fff;position:fixed;z-index:2;width:100%;"><view data-event-opts="{{[['tap',[['toggle',['left']]]]]}}" class="row" style="width:150rpx;background-color:#fff;border-radius:40rpx;justify-content:center;" bindtap="__e"><image style="width:50rpx;height:50rpx;padding:5rpx 0;" src="/static/1.png" mode="aspectFill"></image></view><view style="width:500rpx;text-align:center;font-size:36rpx;font-weight:600;">{{''+chat_name+''}}</view><view style="width:150rpx;font-size:60rpx;text-align:right;"></view></view><view><uni-popup class="vue-ref" vue-id="3ef1c834-1" background-color="#fff" data-ref="popup" data-event-opts="{{[['^change',[['change']]]]}}" bind:change="__e" bind:__l="__l" vue-slots="{{['default']}}"><view class="{{['popup-content',(type==='left'||type==='right')?'popup-height':'']}}"><view style="padding:20rpx;"><view class="row" style="justify-content:center;margin:40rpx 0;"><view data-event-opts="{{[['tap',[['to_add',['$event']]]]]}}" class="row" style="background-color:#96ec78;width:200rpx;justify-content:center;font-size:32rpx;padding:10rpx;border-radius:10rpx;color:#fff;" bindtap="__e">创建对话</view></view><block wx:for="{{tablist}}" wx:for-item="item" wx:for-index="index"><view class="row box-btn"><view data-event-opts="{{[['tap',[['to_change',[index]]]]]}}" bindtap="__e"><image style="width:40rpx;height:40rpx;margin-right:20rpx;" src="../../static/3.png" mode></image></view><view data-event-opts="{{[['tap',[['to_select',['$0'],[[['tablist','',index,'room']]]]]]]}}" style="width:340rpx;font-size:28rpx;" bindtap="__e">{{''+item.value+''}}</view><view data-event-opts="{{[['tap',[['to_delete',[index]]]]]}}" bindtap="__e"><image style="width:40rpx;height:40rpx;" src="../../static/2.png" mode></image></view></view></block></view><view style="padding:20rpx;"><view class="row" style="width:300rpx;justify-content:space-between;font-size:32rpx;margin-top:20rpx;font-weight:600;"></view><view class="row" style="width:300rpx;justify-content:space-between;font-size:28rpx;margin-top:20rpx;"><view>关于我的</view></view></view></view></uni-popup></view><view><uni-popup class="vue-ref" vue-id="3ef1c834-2" type="dialog" data-ref="inputDialog" bind:__l="__l" vue-slots="{{['default']}}"><uni-popup-dialog class="vue-ref" vue-id="{{('3ef1c834-3')+','+('3ef1c834-2')}}" mode="input" title="输入修改后的名字" value="" placeholder="请输入内容" data-ref="inputClose" data-event-opts="{{[['^confirm',[['dialogInputConfirm']]]]}}" bind:confirm="__e" bind:__l="__l"></uni-popup-dialog></uni-popup></view><view><scroll-view class="scroll-box" scroll-y="true" scroll-top="{{scrollHeight}}"><view class="scroll-view"><block wx:for="{{messages}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view hidden="{{!(room===item.room)}}" class="news-box"><block wx:if="{{item.target!='prompt-box'}}"><image class="{{['avatar',item.target==='blue'?'is-me':'avatar-right']}}" src="{{item.avatar}}" mode="aspectFill" data-event-opts="{{[['longpress',[['to_delete_message',[index]]]]]}}" bindlongpress="__e"></image></block><view data-event-opts="{{[['tap',[['to_copy',['$0'],[[['messages','',index,'content']]]]]]]}}" class="{{['message-box',item.target==='prompt-box'?'is-prompt':{'is-me':item.target==='blue'}]}}" style="position:relative;" bindtap="__e"><view class="{{['message',item.target]}}"><view class="content-box">{{''+(item.content||item.cached_msg[0]||'')}}<block wx:if="{{item.isResponse&&item.isResponding}}"><label class="cursor _span"></label></block></view><block wx:if="{{item.target!='prompt-box'}}"><view style="display:flex;justify-content:flex-end;align-items:center;color:#555;"><block wx:if="{{item.target==='red'&&item.isResponse}}"><view data-event-opts="{{[['tap',[['to_up',['$0'],[[['messages','',index]]]]]]]}}" class="switch" style="display:flex;justify-content:flex-start;align-items:center;" catchtap="__e"><image style="width:30rpx;margin-right:10rpx;" src="../../static/1/3.png" mode="widthFix"></image><text>上一个</text></view></block><view data-event-opts="{{[['tap',[['to_delete_message',[index]]]]]}}" style="display:flex;justify-content:flex-start;align-items:center;margin:0 20rpx;" catchtap="__e"><image style="width:30rpx;margin-right:10rpx;" src="../../static/0/2.png" mode="widthFix"></image></view><block wx:if="{{item.target==='red'&&item.isResponse}}"><view data-event-opts="{{[['tap',[['to_down',['$0'],[[['messages','',index]]]]]]]}}" class="switch" style="display:flex;justify-content:flex-start;align-items:center;" catchtap="__e"><image style="width:30rpx;margin-right:10rpx;" src="../../static/1/4.png" mode="widthFix"></image><text>下一个</text></view></block></view></block><block wx:if="{{item.target==='red'&&item.isResponse}}"><view style="display:flex;justify-content:space-around;align-items:center;color:#555;width:200rpx;margin:20rpx auto 0;"><view data-event-opts="{{[['tap',[['to_zan',['$0'],[[['messages','',index,'content']]]]]]]}}" style="display:flex;justify-content:flex-start;align-items:center;margin-right:40rpx;" catchtap="__e"><image style="width:30rpx;margin-right:10rpx;" src="../../static/1/1.png" mode="widthFix"></image></view><view data-event-opts="{{[['tap',[['to_cai',['$0'],[[['messages','',index,'content']]]]]]]}}" style="display:flex;justify-content:flex-start;align-items:center;margin-right:20rpx;" catchtap="__e"><image style="width:30rpx;margin-right:10rpx;" src="../../static/1/2.png" mode="widthFix"></image></view></view></block></view></view></view></block><view data-event-opts="{{[['tap',[['add_prompt']]]]}}" class="prompt" style="display:flex;justify-content:center;align-items:center;" bindtap="__e">点击输入提示语</view></view></scroll-view><view class="base-btn"><view class="base-con unify-flex"><view data-event-opts="{{[['tap',[['send_left',[false]]]]]}}" class="send-input1" bindtap="__e">{{inputValue===''?'生成回复':'发送'}}</view><input class="input-text" type="text" placeholder="输入聊天记录" data-event-opts="{{[['input',[['getInput',['$event']]]]]}}" value="{{inputValue}}" bindinput="__e"/><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="{{[promptMode?'send-input-prompt':'send-input']}}" bindtap="__e">发送</view></view></view></view></view>